# é‡‘èæ•°æ®ç®¡ç†ç³»ç»Ÿ

é“¶è¡Œç†è´¢å¤šèµ„äº§æŠ•èµ„æ•°æ®ç®¡ç†ç³»ç»Ÿï¼Œç”¨äºç®¡ç†å’Œè·å–å„ç±»é‡‘èæ•°æ®æŒ‡æ ‡ã€‚

## ğŸ“Š é¡¹ç›®æ¦‚è§ˆ

**é¡¹ç›®åç§°**: é‡‘èæ•°æ®ç®¡ç†ç³»ç»Ÿ  
**ç‰ˆæœ¬**: 1.2.0 - æ™ºèƒ½å¢é‡æ›´æ–°ç‰ˆæœ¬  
**æœ€æ–°æ›´æ–°æ—¶é—´**: 2025å¹´8æœˆ21æ—¥  
**é¡¹ç›®çŠ¶æ€**: ç”Ÿäº§å°±ç»ªï¼ˆæ–°å¢æ™ºèƒ½å¢é‡æ›´æ–°åŠŸèƒ½ï¼‰  
**æ•°æ®å®Œæ•´æ€§**: 390/391æŒ‡æ ‡ (99.7%æœ‰æ•°æ®ï¼Œæ™ºèƒ½æ›´æ–°ç­–ç•¥ä¼˜åŒ–)

## åŠŸèƒ½ç‰¹æ€§

- ğŸ“Š **å¤šæ•°æ®æºæ”¯æŒ**: æ”¯æŒWind WSDå’ŒEDBæ¥å£æ•°æ®è·å–ï¼Œå¤šå­—æ®µæ•°æ®å¤„ç†
- ğŸ—„ï¸ **æœ¬åœ°æ•°æ®åº“**: SQLiteæ•°æ®åº“å­˜å‚¨ï¼Œæ”¯æŒå¤šå­—æ®µæ—¶é—´åºåˆ—æ•°æ®
- â° **å®šæ—¶æ›´æ–°**: æ”¯æŒæŒ‰æ—¥/å‘¨å®šæœŸè‡ªåŠ¨æ›´æ–°æ•°æ®
- ğŸš€ **REST API**: æä¾›å®Œæ•´çš„æ•°æ®æŸ¥è¯¢å’Œç®¡ç†æ¥å£
- ğŸ“ˆ **å†å²æ•°æ®**: æ”¯æŒ2000å¹´ä»¥æ¥çš„å†å²æ•°æ®ä¸‹è½½
- ğŸ§  **æ™ºèƒ½å¢é‡æ›´æ–°**: æ–°å¢æŒ‡æ ‡è‡ªåŠ¨å…¨é‡æ›´æ–°ï¼Œå­˜é‡æŒ‡æ ‡æ™ºèƒ½å¢é‡æ›´æ–°
- ğŸ¯ **æ™ºèƒ½åˆ†ç±»**: è‡ªåŠ¨è¯†åˆ«æ–°å¢æŒ‡æ ‡å’Œå­˜é‡æŒ‡æ ‡ï¼Œé‡‡ç”¨ä¸åŒæ›´æ–°ç­–ç•¥
- ğŸ”§ **çµæ´»é…ç½®**: æ”¯æŒå¤šç§é…ç½®é€‰é¡¹å’Œè‡ªå®šä¹‰è®¾ç½®
- ğŸ’¨ **ç›´æ¥è¿æ¥**: ä½¿ç”¨WindPyåº“ç›´æ¥è¿æ¥Windæ•°æ®æºï¼Œé¿å…MCPå¼€é”€
- ğŸ”— **å¤šç§è°ƒç”¨æ–¹å¼**: æ”¯æŒPython SDKã€REST APIã€ç›´æ¥SQLæŸ¥è¯¢
- ğŸ”„ **æ™ºèƒ½é‡è¯•**: è‡ªåŠ¨è¯†åˆ«å’Œé‡è¯•å¤±è´¥/ç¼ºå¤±çš„æ•°æ®æŒ‡æ ‡
- ğŸ“Š **çŠ¶æ€ç›‘æ§**: å®æ—¶æ•°æ®å®Œæ•´æ€§æ£€æŸ¥å’Œå¤±è´¥åŸå› åˆ†æ
- ğŸš€ **è‡ªåŠ¨æ‰©å±•**: æ”¯æŒæ–°å¢æŒ‡æ ‡çš„è‡ªåŠ¨å†å²æ•°æ®è·å–å’Œå®šæœŸæ›´æ–°
- ğŸ“ˆ **é«˜æˆåŠŸç‡**: æœ€æ–°æ•°æ®è·å–æˆåŠŸç‡è¾¾99.7%ï¼Œæ™ºèƒ½æ›´æ–°ä¼˜åŒ–

## ç³»ç»Ÿæ¶æ„

```
data_api/
â”œâ”€â”€ src/                    # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ database/          # æ•°æ®åº“æ¨¡å—
â”‚   â”‚   â””â”€â”€ models.py     # æ•°æ®æ¨¡å‹å’ŒæŸ¥è¯¢æ¥å£
â”‚   â”œâ”€â”€ data_fetcher/      # æ•°æ®è·å–æ¨¡å— (WindPyç›´è¿)
â”‚   â”‚   â””â”€â”€ wind_client.py # WindPyç›´è¿å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ scheduler/         # è°ƒåº¦å™¨æ¨¡å—
â”‚   â”‚   â””â”€â”€ data_updater.py # æ•°æ®æ›´æ–°å™¨
â”‚   â”œâ”€â”€ api/              # APIæ¥å£æ¨¡å—
â”‚   â”‚   â””â”€â”€ main.py      # FastAPIè·¯ç”±
â”‚   â””â”€â”€ mcp_client.py    # MCPå®¢æˆ·ç«¯ï¼ˆä¿ç•™ï¼‰
â”œâ”€â”€ config/               # é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ config.py        # ä¸»é…ç½®æ–‡ä»¶
â”œâ”€â”€ data/                 # æ•°æ®æ–‡ä»¶ç›®å½•
â”‚   â”œâ”€â”€ æ•°æ®æŒ‡æ ‡.xlsx      # æ•°æ®æŒ‡æ ‡é…ç½®æ–‡ä»¶ (390ä¸ªæŒ‡æ ‡)
â”‚   â””â”€â”€ financial_data.db  # SQLiteæ•°æ®åº“ (åŠ¨æ€å¢é•¿)
â”œâ”€â”€ logs/                 # æ—¥å¿—æ–‡ä»¶ç›®å½•
â”œâ”€â”€ main.py              # ä¸»å¯åŠ¨è„šæœ¬
â”œâ”€â”€ check_status.py      # æ•°æ®çŠ¶æ€æ£€æŸ¥å·¥å…·
â”œâ”€â”€ DATA_RETRY_GUIDE.md  # æ•°æ®é‡è¯•ä½¿ç”¨æŒ‡å—
â”œâ”€â”€ DATABASE_SCHEMA.md   # æ•°æ®åº“ç»“æ„è¯¦ç»†è¯´æ˜
â”œâ”€â”€ QUICK_REFERENCE.md   # æ•°æ®åº“å¿«é€Ÿå‚è€ƒå¡ç‰‡
â”œâ”€â”€ requirements.txt     # ä¾èµ–åŒ…åˆ—è¡¨
â””â”€â”€ README.md           # è¯´æ˜æ–‡æ¡£
```

## æ•°æ®æŒ‡æ ‡é…ç½®

ç³»ç»Ÿé€šè¿‡ `data/æ•°æ®æŒ‡æ ‡.xlsx` æ–‡ä»¶é…ç½®391ä¸ªé‡‘èæ•°æ®æŒ‡æ ‡ï¼Œæ¶µç›–9å¤§ç±»åˆ«ï¼Œæ”¯æŒå¤šå­—æ®µæ•°æ®ç»“æ„ï¼š

### æŒ‡æ ‡åˆ†å¸ƒç»Ÿè®¡
| ç±»åˆ« | æ•°é‡ | å æ¯” | ä¸»è¦å†…å®¹ | æ•°æ®è´¨é‡ |
|------|------|------|----------|----------|
| å€ºåˆ¸ | 267 | 68.3% | å›½å€ºã€ä¼ä¸šå€ºã€ä¿¡ç”¨å€ºæ”¶ç›Šç‡æ›²çº¿ | é«˜è´¨é‡æ•°æ® |
| å®è§‚ | 33 | 8.4% | GDPã€CPIã€PMIã€è´§å¸ä¾›åº”é‡ | ç»æµæ•°æ®ç‰¹ç‚¹ï¼Œæ›´æ–°é¢‘ç‡ä½ |
| æƒç›Š | 32 | 8.2% | è‚¡ç¥¨æŒ‡æ•°ã€ä¼°å€¼æŒ‡æ ‡ï¼ˆå¤šå­—æ®µæ”¯æŒï¼‰ | 100% æ•°æ®å……è¶³ |
| æµ·å¤– | 18 | 4.6% | å›½é™…è‚¡æŒ‡ã€æ±‡ç‡æ•°æ® | é«˜è´¨é‡æ•°æ® |
| èµ„é‡‘ | 15 | 3.8% | åˆ©ç‡ã€èµ„é‡‘é¢æ•°æ® | 100% æ•°æ®å……è¶³ |
| å¤–æ±‡ | 9 | 2.3% | ä¸»è¦æ±‡ç‡å¯¹ | é«˜è´¨é‡æ•°æ® |
| è‚¡ç¥¨ | 8 | 2.0% | ä¸ªè‚¡ç›¸å…³æŒ‡æ ‡ | é«˜è´¨é‡æ•°æ® |
| å•†å“ | 7 | 1.8% | å¤§å®—å•†å“ä»·æ ¼ | 100% æ•°æ®å……è¶³ |
| å¯è½¬å€º | 2 | 0.5% | å¯è½¬å€ºæŒ‡æ•° | åŒ…å«å¤šå­—æ®µæŒ‡æ ‡ |

### ğŸ†• å¤šå­—æ®µæŒ‡æ ‡æ”¯æŒ
- **å¤šå­—æ®µæŒ‡æ ‡**: 36ä¸ªæŒ‡æ ‡æ”¯æŒå¤šç»´åº¦æ•°æ®ï¼ˆå¦‚æ”¶ç›˜ä»·+å¸‚ç›ˆç‡ï¼‰
- **å­—æ®µæ˜ å°„**: 427ä¸ªå­—æ®µæ˜ å°„ï¼Œæ”¯æŒå¤åˆæ•°æ®ç»“æ„
- **æ™ºèƒ½å¤„ç†**: è‡ªåŠ¨è¯†åˆ«å•å­—æ®µå’Œå¤šå­—æ®µæŒ‡æ ‡ç±»å‹

### é…ç½®æ–‡ä»¶ç»“æ„
| å­—æ®µ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| æŒ‡æ ‡ç±»åˆ« | æ•°æ®ç±»åˆ« | å®è§‚ã€å€ºåˆ¸ã€è‚¡ç¥¨ã€æµ·å¤–ç­‰ |
| æŒ‡æ ‡åç§° | æŒ‡æ ‡æè¿°åç§° | GDP:ç°ä»·:å½“å­£åŒæ¯” |
| windä»£ç  | Windæ•°æ®ä»£ç  | M6637815ã€000300.SH |
| windå­—æ®µ | Windå­—æ®µå | closeã€val_pe_nonnegativeæˆ–ç©º |
| å­—æ®µä¸­æ–‡å | å­—æ®µæ˜¾ç¤ºåç§° | æ”¶ç›˜ä»·ã€å¸‚ç›ˆç‡ |

**æ•°æ®æºè¯†åˆ«è§„åˆ™**:
- **windå­—æ®µä¸ºç©º**: ä»EDBæ¥å£è·å–ç»æµæ•°æ®
- **windå­—æ®µä¸ä¸ºç©º**: ä»WSDæ¥å£è·å–å¸‚åœºæ•°æ®
- **å¤šå­—æ®µæ”¯æŒ**: åŒä¸€wind_codeå¯é…ç½®å¤šä¸ªå­—æ®µï¼ˆå¦‚æ”¶ç›˜ä»·+å¸‚ç›ˆç‡ï¼‰

**ğŸ” å¤šå­—æ®µç¤ºä¾‹**:
- `000300.SH + close`: æ²ªæ·±300æ”¶ç›˜ä»·
- `000300.SH + val_pe_nonnegative`: æ²ªæ·±300å¸‚ç›ˆç‡
- ç³»ç»Ÿè‡ªåŠ¨è¯†åˆ«å¹¶åˆ†åˆ«å­˜å‚¨ä¸åŒå­—æ®µçš„æ•°æ®

## å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡

```bash
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼ˆæ¨èï¼‰
python3 -m venv venv
source venv/bin/activate  # Linux/Mac
# æˆ–
venv\\Scripts\\activate   # Windows

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

### 2. WindPyé…ç½®

**å¿…éœ€æ¡ä»¶**:
- å®‰è£…Windå®¢æˆ·ç«¯å¹¶ç™»å½•
- å®‰è£…WindPyåº“: `pip install WindPy`
- ç¡®ä¿Wind APIæƒé™æ­£å¸¸

### 3. ç³»ç»Ÿåˆå§‹åŒ–

```bash
# åˆå§‹åŒ–æ•°æ®åº“å’Œé…ç½®
python main.py init
```

### 4. æ™ºèƒ½æ•°æ®æ›´æ–° ğŸ†•

```bash
# æ™ºèƒ½å¢é‡æ›´æ–°ï¼ˆæ¨èï¼Œæ–°åŠŸèƒ½ï¼‰
python main.py update

# æŒ‡å®šæ›´æ–°ç±»å‹
python main.py update --update-type smart        # æ™ºèƒ½æ›´æ–°ï¼ˆé»˜è®¤ï¼‰
python main.py update --update-type incremental  # ä¼ ç»Ÿå¢é‡æ›´æ–°
python main.py update --update-type full         # å…¨é‡æ›´æ–°
python main.py update --update-type retry        # é‡è¯•å¤±è´¥æŒ‡æ ‡
```

**ğŸ§  æ™ºèƒ½æ›´æ–°é€»è¾‘** (æ¨èä½¿ç”¨):
- **æ–°å¢æŒ‡æ ‡**: è‡ªåŠ¨ä»2000å¹´å¼€å§‹è·å–å®Œæ•´å†å²æ•°æ®
- **å­˜é‡æŒ‡æ ‡**: ä»æœ€æ–°æ•°æ®æ—¥æœŸå¼€å§‹å¢é‡æ›´æ–°åˆ°å½“å‰
- **è‡ªåŠ¨è¯†åˆ«**: æ— éœ€æ‰‹åŠ¨åˆ¤æ–­ï¼Œç³»ç»Ÿæ™ºèƒ½åˆ†ç±»å¤„ç†
- **é«˜æ•ˆèŠ‚æ—¶**: é¿å…é‡å¤æ›´æ–°å·²æœ‰æ•°æ®ï¼ŒèŠ‚çœæ—¶é—´

**ä¼ ç»Ÿæ›´æ–°ç±»å‹**:
- `incremental`: å¢é‡æ›´æ–°ï¼Œä»æœ€åæ›´æ–°æ—¥æœŸå¼€å§‹è·å–æ–°æ•°æ®
- `full`: å…¨é‡æ›´æ–°ï¼Œè·å–æ‰€æœ‰æŒ‡æ ‡ä»2000å¹´è‡³ä»Šçš„å®Œæ•´å†å²æ•°æ®
- `retry`: æ™ºèƒ½é‡è¯•ï¼Œä»…é‡æ–°è·å–å¤±è´¥æˆ–ç¼ºå¤±çš„æŒ‡æ ‡æ•°æ®

**å…¨é‡æ›´æ–°è¯´æ˜**:
- æ›´æ–°390ä¸ªæŒ‡æ ‡çš„å†å²æ•°æ®
- æ•°æ®èŒƒå›´ï¼š2000å¹´1æœˆ1æ—¥è‡³ä»Š
- æ•°æ®åº“å¤§å°ï¼šåŠ¨æ€å¢é•¿ï¼ˆå½“å‰è¾ƒå¤§ï¼‰
- æˆåŠŸç‡ï¼š99.5%ï¼ˆ388/390æŒ‡æ ‡æœ‰æ•°æ®ï¼Œ76.9%æ•°æ®å……è¶³ï¼‰

### 4.1 æ•°æ®çŠ¶æ€æ£€æŸ¥

```bash
# æ£€æŸ¥æ•°æ®åº“çŠ¶æ€å’Œå®Œæ•´æ€§
python check_status.py

# æŸ¥çœ‹è¯¦ç»†å¤±è´¥ä¿¡æ¯
python check_status.py --details
```

çŠ¶æ€æ£€æŸ¥å·¥å…·æä¾›ï¼š
- ğŸ“Š æŒ‡æ ‡æ€»ä½“å®Œæˆæƒ…å†µç»Ÿè®¡ (å½“å‰: 388/390 æœ‰æ•°æ®ï¼Œ99.5%)
- ğŸ“ˆ å„ç±»åˆ«æ•°æ®å®Œæ•´æ€§åˆ†æ (æƒç›Šç±»100%ï¼Œå€ºåˆ¸ç±»82.0%)
- âœ… é«˜æˆåŠŸç‡æ•°æ®è·å– (300ä¸ªæŒ‡æ ‡æ•°æ®å……è¶³ï¼Œ76.9%)
- ğŸ’¡ æ™ºèƒ½é‡è¯•å»ºè®® (ä»…2ä¸ªæŒ‡æ ‡å®Œå…¨æ— æ•°æ®)

### 4.2 æ™ºèƒ½é‡è¯•æœºåˆ¶

å½“æ•°æ®æ›´æ–°å¤±è´¥æˆ–ä¸å®Œæ•´æ—¶ï¼Œä½¿ç”¨æ™ºèƒ½é‡è¯•åŠŸèƒ½ï¼š

```bash
# ä»…é‡è¯•å¤±è´¥å’Œç¼ºå¤±çš„æŒ‡æ ‡ï¼ˆæ¨èï¼‰
python main.py update --update-type retry
```

**é‡è¯•ä¼˜åŠ¿**ï¼š
- ğŸ¯ **ç²¾å‡†å®šä½**: è‡ªåŠ¨è¯†åˆ«å¤±è´¥/ç¼ºå¤±çš„å°‘é‡æŒ‡æ ‡
- âš¡ **é«˜æ•ˆèŠ‚æ—¶**: è·³è¿‡å·²æˆåŠŸçš„388ä¸ªæŒ‡æ ‡ï¼Œé¿å…é‡å¤ä¸‹è½½
- ğŸ“Š **å®æ—¶è¿›åº¦**: æ˜¾ç¤ºé‡è¯•è¿›åº¦å’ŒæˆåŠŸç‡
- ğŸ“ **è¯¦ç»†æ—¥å¿—**: è®°å½•æ¯ä¸ªæŒ‡æ ‡çš„é‡è¯•ç»“æœ

**é€‚ç”¨åœºæ™¯**ï¼š
- é¦–æ¬¡å…¨é‡æ›´æ–°åçš„æ•°æ®è¡¥å…¨
- APIé™æµåçš„æ•°æ®æ¢å¤
- ç½‘ç»œé—®é¢˜å¯¼è‡´çš„æ›´æ–°ä¸­æ–­
- å®šæœŸæ•°æ®å®Œæ•´æ€§ç»´æŠ¤

### 5. å¯åŠ¨æœåŠ¡

```bash
# å¯åŠ¨APIæœåŠ¡ï¼ˆç«¯å£8000ï¼‰
python main.py server

# å¯åŠ¨å®šæ—¶è°ƒåº¦å™¨
python main.py scheduler

# æŸ¥çœ‹ç³»ç»ŸçŠ¶æ€
python main.py status

# æŸ¥çœ‹å¤šå­—æ®µåˆ†æï¼ˆæ–°åŠŸèƒ½ï¼‰
python main.py fields
```

## æ•°æ®è°ƒç”¨æ–¹å¼

ç³»ç»Ÿæä¾›å¤šç§æ•°æ®è°ƒç”¨æ–¹å¼ï¼Œæ»¡è¶³ä¸åŒåœºæ™¯éœ€æ±‚ï¼š

### æ–¹å¼1ï¼šPython SDKï¼ˆæ¨èï¼‰

#### 1.1 ç›´æ¥ä½¿ç”¨æ•°æ®åº“ç®¡ç†å™¨

```python
# å¯¼å…¥æ•°æ®åº“ç®¡ç†å™¨
from src.database.models import DatabaseManager
import pandas as pd

# åˆ›å»ºæ•°æ®åº“è¿æ¥
db = DatabaseManager()

# è·å–æŒ‡æ ‡åˆ—è¡¨
indicators = db.get_indicators()
print(f"æ€»æŒ‡æ ‡æ•°é‡: {len(indicators)}")

# æŒ‰ç±»åˆ«è·å–æŒ‡æ ‡
bond_indicators = db.get_indicators(category="å€ºåˆ¸")
macro_indicators = db.get_indicators(category="å®è§‚")

# è·å–å•ä¸ªæŒ‡æ ‡çš„æ—¶é—´åºåˆ—æ•°æ®
data = db.get_time_series_data(
    wind_code="000001.SH", 
    start_date="2023-01-01", 
    end_date="2023-12-31"
)

# æ‰¹é‡è·å–å¤šä¸ªæŒ‡æ ‡æ•°æ®
batch_data = db.get_batch_data(
    wind_codes=["000001.SH", "000300.SH", "399006.SZ"], 
    start_date="2023-01-01", 
    end_date="2023-12-31"
)
```

#### 1.2 å®Œæ•´ç¤ºä¾‹ï¼šæŠ•èµ„ç»„åˆåˆ†æ

```python
"""
ç¤ºä¾‹ï¼šè·å–è‚¡å€ºæ•°æ®è¿›è¡Œèµ„äº§é…ç½®åˆ†æ
"""
from src.database.models import DatabaseManager
import pandas as pd
import numpy as np

class PortfolioAnalyzer:
    def __init__(self):
        self.db = DatabaseManager()
    
    def get_asset_data(self, start_date="2020-01-01", end_date="2024-08-17"):
        """è·å–è‚¡å€ºèµ„äº§æ•°æ®"""
        
        # è·å–è‚¡ç¥¨æŒ‡æ•°æ•°æ®
        equity_codes = ["000300.SH", "399006.SZ", "000852.SH"]  # æ²ªæ·±300ã€åˆ›ä¸šæ¿ã€ä¸­è¯1000
        equity_data = self.db.get_batch_data(equity_codes, start_date, end_date)
        
        # è·å–å€ºåˆ¸æŒ‡æ•°æ•°æ®
        bond_codes = ["H11001.CSI", "H11006.CSI"]  # å›½å€ºæŒ‡æ•°ã€ä¿¡ç”¨å€ºæŒ‡æ•°
        bond_data = self.db.get_batch_data(bond_codes, start_date, end_date)
        
        return equity_data, bond_data
    
    def calculate_returns(self, data):
        """è®¡ç®—æ”¶ç›Šç‡"""
        return data.pct_change().dropna()
    
    def get_macro_indicators(self, start_date="2020-01-01", end_date="2024-08-17"):
        """è·å–å®è§‚ç»æµæŒ‡æ ‡"""
        
        # è·å–å…³é”®å®è§‚æŒ‡æ ‡
        macro_codes = ["M0000612", "M0001227", "M0017126"]  # CPIã€PPIã€PMI
        macro_data = self.db.get_batch_data(macro_codes, start_date, end_date)
        
        return macro_data

# ä½¿ç”¨ç¤ºä¾‹
analyzer = PortfolioAnalyzer()
equity_data, bond_data = analyzer.get_asset_data()
macro_data = analyzer.get_macro_indicators()

print(f"è‚¡ç¥¨æ•°æ®å½¢çŠ¶: {equity_data.shape}")
print(f"å€ºåˆ¸æ•°æ®å½¢çŠ¶: {bond_data.shape}")
print(f"å®è§‚æ•°æ®å½¢çŠ¶: {macro_data.shape}")
```

### æ–¹å¼2ï¼šREST APIè°ƒç”¨

#### 2.1 å¯åŠ¨APIæœåŠ¡

```bash
# å¯åŠ¨APIæœåŠ¡
python main.py server

# APIæœåŠ¡åœ°å€: http://localhost:8000
# APIæ–‡æ¡£åœ°å€: http://localhost:8000/docs
```

#### 2.2 APIæ¥å£è°ƒç”¨ç¤ºä¾‹

```python
import requests
import pandas as pd

# APIåŸºç¡€åœ°å€
BASE_URL = "http://localhost:8000"

def get_indicators(category=None):
    """è·å–æŒ‡æ ‡åˆ—è¡¨"""
    url = f"{BASE_URL}/indicators"
    params = {"category": category} if category else {}
    response = requests.get(url, params=params)
    return response.json()

def get_time_series_data(wind_code, start_date, end_date):
    """è·å–æ—¶é—´åºåˆ—æ•°æ®"""
    url = f"{BASE_URL}/data/{wind_code}"
    params = {
        "start_date": start_date,
        "end_date": end_date
    }
    response = requests.get(url, params=params)
    return response.json()

def get_batch_data(wind_codes, start_date, end_date):
    """æ‰¹é‡è·å–æ•°æ®"""
    url = f"{BASE_URL}/batch-data"
    data = {
        "wind_codes": wind_codes,
        "start_date": start_date,
        "end_date": end_date
    }
    response = requests.post(url, json=data)
    return response.json()

# ä½¿ç”¨ç¤ºä¾‹
# è·å–å€ºåˆ¸ç±»æŒ‡æ ‡
bond_indicators = get_indicators("å€ºåˆ¸")

# è·å–ä¸Šè¯æŒ‡æ•°æ•°æ®
sse_data = get_time_series_data("000001.SH", "2023-01-01", "2023-12-31")

# æ‰¹é‡è·å–å¤šä¸ªæŒ‡æ•°æ•°æ®
indices_data = get_batch_data(
    ["000300.SH", "399006.SZ", "000852.SH"],
    "2023-01-01", 
    "2023-12-31"
)
```

#### 2.3 JavaScript/Node.jsè°ƒç”¨ç¤ºä¾‹

```javascript
// Node.js ç¤ºä¾‹
const axios = require('axios');

const BASE_URL = 'http://localhost:8000';

// è·å–æŒ‡æ ‡åˆ—è¡¨
async function getIndicators(category = null) {
    const params = category ? { category } : {};
    const response = await axios.get(`${BASE_URL}/indicators`, { params });
    return response.data;
}

// è·å–æ—¶é—´åºåˆ—æ•°æ®
async function getTimeSeriesData(windCode, startDate, endDate) {
    const response = await axios.get(`${BASE_URL}/data/${windCode}`, {
        params: {
            start_date: startDate,
            end_date: endDate
        }
    });
    return response.data;
}

// æ‰¹é‡è·å–æ•°æ®
async function getBatchData(windCodes, startDate, endDate) {
    const response = await axios.post(`${BASE_URL}/batch-data`, {
        wind_codes: windCodes,
        start_date: startDate,
        end_date: endDate
    });
    return response.data;
}

// ä½¿ç”¨ç¤ºä¾‹
(async () => {
    try {
        // è·å–è‚¡ç¥¨ç±»æŒ‡æ ‡
        const stockIndicators = await getIndicators('è‚¡ç¥¨');
        console.log('è‚¡ç¥¨æŒ‡æ ‡æ•°é‡:', stockIndicators.length);
        
        // è·å–æ²ªæ·±300æ•°æ®
        const hs300Data = await getTimeSeriesData('000300.SH', '2023-01-01', '2023-12-31');
        console.log('æ²ªæ·±300æ•°æ®ç‚¹æ•°:', hs300Data.length);
        
    } catch (error) {
        console.error('APIè°ƒç”¨å¤±è´¥:', error.message);
    }
})();
```

### æ–¹å¼3ï¼šç›´æ¥SQLæŸ¥è¯¢

#### 3.1 Pythonç›´æ¥SQLæŸ¥è¯¢

```python
import sqlite3
import pandas as pd

# è¿æ¥æ•°æ®åº“
conn = sqlite3.connect('data/financial_data.db')

# æŸ¥çœ‹æ•°æ®åº“ç»“æ„
def show_tables():
    """æ˜¾ç¤ºæ‰€æœ‰è¡¨"""
    tables = pd.read_sql_query("""
        SELECT name FROM sqlite_master 
        WHERE type='table'
    """, conn)
    return tables

def show_table_schema(table_name):
    """æ˜¾ç¤ºè¡¨ç»“æ„"""
    schema = pd.read_sql_query(f"PRAGMA table_info({table_name})", conn)
    return schema

# æŸ¥è¯¢æŒ‡æ ‡ä¿¡æ¯
def get_indicators_sql(category=None):
    """SQLæŸ¥è¯¢æŒ‡æ ‡"""
    if category:
        query = """
            SELECT * FROM indicators 
            WHERE category = ?
        """
        return pd.read_sql_query(query, conn, params=[category])
    else:
        query = "SELECT * FROM indicators"
        return pd.read_sql_query(query, conn)

# æŸ¥è¯¢æ—¶é—´åºåˆ—æ•°æ®
def get_time_series_sql(wind_code, start_date=None, end_date=None):
    """SQLæŸ¥è¯¢æ—¶é—´åºåˆ—æ•°æ®"""
    query = """
        SELECT date, value 
        FROM time_series_data 
        WHERE wind_code = ?
    """
    params = [wind_code]
    
    if start_date:
        query += " AND date >= ?"
        params.append(start_date)
    
    if end_date:
        query += " AND date <= ?"
        params.append(end_date)
    
    query += " ORDER BY date"
    
    df = pd.read_sql_query(query, conn, params=params)
    df['date'] = pd.to_datetime(df['date'])
    df.set_index('date', inplace=True)
    return df

# å¤æ‚æŸ¥è¯¢ç¤ºä¾‹ï¼šè®¡ç®—ç›¸å…³æ€§
def calculate_correlation_sql(codes, start_date, end_date):
    """è®¡ç®—å¤šä¸ªæŒ‡æ ‡çš„ç›¸å…³æ€§"""
    
    # æ„å»ºæŸ¥è¯¢è¯­å¥
    code_placeholders = ','.join(['?' for _ in codes])
    query = f"""
        SELECT wind_code, date, value
        FROM time_series_data
        WHERE wind_code IN ({code_placeholders})
        AND date BETWEEN ? AND ?
        ORDER BY wind_code, date
    """
    
    params = codes + [start_date, end_date]
    df = pd.read_sql_query(query, conn, params=params)
    
    # é€è§†è¡¨è½¬æ¢
    pivot_df = df.pivot(index='date', columns='wind_code', values='value')
    
    # è®¡ç®—ç›¸å…³æ€§çŸ©é˜µ
    correlation_matrix = pivot_df.corr()
    return correlation_matrix

# ä½¿ç”¨ç¤ºä¾‹
# æŸ¥çœ‹è¡¨ç»“æ„
print("æ•°æ®åº“è¡¨:")
print(show_tables())

print("\næŒ‡æ ‡è¡¨ç»“æ„:")
print(show_table_schema('indicators'))

# æŸ¥è¯¢å€ºåˆ¸æŒ‡æ ‡
bond_indicators = get_indicators_sql('å€ºåˆ¸')
print(f"\nå€ºåˆ¸æŒ‡æ ‡æ•°é‡: {len(bond_indicators)}")

# è·å–ä¸Šè¯æŒ‡æ•°æ•°æ®
sse_data = get_time_series_sql('000001.SH', '2023-01-01', '2023-12-31')
print(f"\nä¸Šè¯æŒ‡æ•°æ•°æ®ç‚¹æ•°: {len(sse_data)}")

# è®¡ç®—è‚¡æŒ‡ç›¸å…³æ€§
correlation = calculate_correlation_sql(
    ['000300.SH', '399006.SZ', '000852.SH'],
    '2023-01-01', 
    '2023-12-31'
)
print("\nè‚¡æŒ‡ç›¸å…³æ€§çŸ©é˜µ:")
print(correlation)

# å…³é—­è¿æ¥
conn.close()
```

#### 3.2 å…¶ä»–è¯­è¨€è°ƒç”¨ç¤ºä¾‹

```r
# Rè¯­è¨€ç¤ºä¾‹
library(RSQLite)
library(DBI)

# è¿æ¥æ•°æ®åº“
conn <- dbConnect(SQLite(), "data/financial_data.db")

# æŸ¥è¯¢æŒ‡æ ‡åˆ—è¡¨
indicators <- dbGetQuery(conn, "SELECT * FROM indicators WHERE category = 'å®è§‚'")

# æŸ¥è¯¢æ—¶é—´åºåˆ—æ•°æ®
ts_data <- dbGetQuery(conn, "
    SELECT date, value 
    FROM time_series_data 
    WHERE wind_code = '000300.SH' 
    AND date BETWEEN '2023-01-01' AND '2023-12-31'
    ORDER BY date
")

# å…³é—­è¿æ¥
dbDisconnect(conn)
```

```sql
-- ç›´æ¥SQLæŸ¥è¯¢ç¤ºä¾‹

-- 1. æŸ¥çœ‹æŒ‡æ ‡ç»Ÿè®¡
SELECT category, COUNT(*) as count 
FROM indicators 
GROUP BY category 
ORDER BY count DESC;

-- 2. æŸ¥è¯¢æœ€æ–°æ•°æ®
SELECT i.name, i.wind_code, t.date, t.value
FROM indicators i
JOIN time_series_data t ON i.wind_code = t.wind_code
WHERE t.date = (
    SELECT MAX(date) 
    FROM time_series_data t2 
    WHERE t2.wind_code = t.wind_code
)
ORDER BY i.category, i.name;

-- 3. æŸ¥è¯¢æ•°æ®è¦†ç›–ç‡
SELECT 
    i.wind_code,
    i.name,
    COUNT(t.value) as data_points,
    MIN(t.date) as start_date,
    MAX(t.date) as end_date
FROM indicators i
LEFT JOIN time_series_data t ON i.wind_code = t.wind_code
GROUP BY i.wind_code, i.name
ORDER BY data_points DESC;
```

### æ–¹å¼4ï¼šå¤–éƒ¨ç¨‹åºé›†æˆ

#### 4.1 åˆ›å»ºæ•°æ®è®¿é—®ç±»

```python
# financial_data_client.py - ç‹¬ç«‹çš„æ•°æ®è®¿é—®å®¢æˆ·ç«¯

import sqlite3
import pandas as pd
import requests
from typing import List, Optional, Union
import warnings

class FinancialDataClient:
    """é‡‘èæ•°æ®å®¢æˆ·ç«¯ - å¯åœ¨ä»»ä½•Pythonç¨‹åºä¸­ä½¿ç”¨"""
    
    def __init__(self, db_path: str = None, api_url: str = None):
        """
        åˆå§‹åŒ–å®¢æˆ·ç«¯
        
        Args:
            db_path: æ•°æ®åº“æ–‡ä»¶è·¯å¾„ï¼Œå¦‚ 'data/financial_data.db'
            api_url: APIæœåŠ¡åœ°å€ï¼Œå¦‚ 'http://localhost:8000'
        """
        self.db_path = db_path
        self.api_url = api_url
        
        if not db_path and not api_url:
            raise ValueError("å¿…é¡»æä¾›æ•°æ®åº“è·¯å¾„æˆ–APIåœ°å€")
    
    def _get_db_connection(self):
        """è·å–æ•°æ®åº“è¿æ¥"""
        if not self.db_path:
            raise ValueError("æœªé…ç½®æ•°æ®åº“è·¯å¾„")
        return sqlite3.connect(self.db_path)
    
    def get_indicators(self, category: str = None) -> pd.DataFrame:
        """è·å–æŒ‡æ ‡åˆ—è¡¨"""
        if self.db_path:
            return self._get_indicators_db(category)
        else:
            return self._get_indicators_api(category)
    
    def _get_indicators_db(self, category: str = None) -> pd.DataFrame:
        """ä»æ•°æ®åº“è·å–æŒ‡æ ‡"""
        conn = self._get_db_connection()
        
        if category:
            query = "SELECT * FROM indicators WHERE category = ?"
            df = pd.read_sql_query(query, conn, params=[category])
        else:
            query = "SELECT * FROM indicators"
            df = pd.read_sql_query(query, conn)
        
        conn.close()
        return df
    
    def _get_indicators_api(self, category: str = None) -> pd.DataFrame:
        """ä»APIè·å–æŒ‡æ ‡"""
        url = f"{self.api_url}/indicators"
        params = {"category": category} if category else {}
        response = requests.get(url, params=params)
        response.raise_for_status()
        return pd.DataFrame(response.json())
    
    def get_data(self, 
                 wind_code: str, 
                 start_date: str = None, 
                 end_date: str = None) -> pd.Series:
        """è·å–å•ä¸ªæŒ‡æ ‡çš„æ—¶é—´åºåˆ—æ•°æ®"""
        if self.db_path:
            return self._get_data_db(wind_code, start_date, end_date)
        else:
            return self._get_data_api(wind_code, start_date, end_date)
    
    def _get_data_db(self, wind_code: str, start_date: str = None, end_date: str = None) -> pd.Series:
        """ä»æ•°æ®åº“è·å–æ•°æ®"""
        conn = self._get_db_connection()
        
        query = "SELECT date, value FROM time_series_data WHERE wind_code = ?"
        params = [wind_code]
        
        if start_date:
            query += " AND date >= ?"
            params.append(start_date)
        
        if end_date:
            query += " AND date <= ?"
            params.append(end_date)
        
        query += " ORDER BY date"
        
        df = pd.read_sql_query(query, conn, params=params)
        conn.close()
        
        if df.empty:
            return pd.Series(dtype=float)
        
        df['date'] = pd.to_datetime(df['date'])
        return pd.Series(df['value'].values, index=df['date'], name=wind_code)
    
    def _get_data_api(self, wind_code: str, start_date: str = None, end_date: str = None) -> pd.Series:
        """ä»APIè·å–æ•°æ®"""
        url = f"{self.api_url}/data/{wind_code}"
        params = {}
        if start_date:
            params['start_date'] = start_date
        if end_date:
            params['end_date'] = end_date
        
        response = requests.get(url, params=params)
        response.raise_for_status()
        data = response.json()
        
        if not data:
            return pd.Series(dtype=float)
        
        dates = pd.to_datetime([item['date'] for item in data])
        values = [item['value'] for item in data]
        return pd.Series(values, index=dates, name=wind_code)
    
    def get_batch_data(self, 
                      wind_codes: List[str], 
                      start_date: str = None, 
                      end_date: str = None) -> pd.DataFrame:
        """æ‰¹é‡è·å–å¤šä¸ªæŒ‡æ ‡æ•°æ®"""
        if self.db_path:
            return self._get_batch_data_db(wind_codes, start_date, end_date)
        else:
            return self._get_batch_data_api(wind_codes, start_date, end_date)
    
    def _get_batch_data_db(self, wind_codes: List[str], start_date: str = None, end_date: str = None) -> pd.DataFrame:
        """ä»æ•°æ®åº“æ‰¹é‡è·å–æ•°æ®"""
        all_data = {}
        for code in wind_codes:
            data = self._get_data_db(code, start_date, end_date)
            if not data.empty:
                all_data[code] = data
        
        if not all_data:
            return pd.DataFrame()
        
        return pd.DataFrame(all_data)
    
    def _get_batch_data_api(self, wind_codes: List[str], start_date: str = None, end_date: str = None) -> pd.DataFrame:
        """ä»APIæ‰¹é‡è·å–æ•°æ®"""
        url = f"{self.api_url}/batch-data"
        data = {
            "wind_codes": wind_codes,
            "start_date": start_date,
            "end_date": end_date
        }
        response = requests.post(url, json=data)
        response.raise_for_status()
        result = response.json()
        
        if not result:
            return pd.DataFrame()
        
        # è½¬æ¢ä¸ºDataFrame
        df_data = {}
        for item in result:
            code = item['wind_code']
            if code not in df_data:
                df_data[code] = {}
            df_data[code][item['date']] = item['value']
        
        df = pd.DataFrame(df_data)
        df.index = pd.to_datetime(df.index)
        return df.sort_index()

# ä½¿ç”¨ç¤ºä¾‹
if __name__ == "__main__":
    # æ–¹å¼1ï¼šä½¿ç”¨æ•°æ®åº“ç›´è¿
    client_db = FinancialDataClient(db_path='data/financial_data.db')
    
    # æ–¹å¼2ï¼šä½¿ç”¨APIè¿æ¥
    # client_api = FinancialDataClient(api_url='http://localhost:8000')
    
    # è·å–æŒ‡æ ‡åˆ—è¡¨
    indicators = client_db.get_indicators('è‚¡ç¥¨')
    print(f"è‚¡ç¥¨æŒ‡æ ‡æ•°é‡: {len(indicators)}")
    
    # è·å–å•ä¸ªæŒ‡æ ‡æ•°æ®
    sse_data = client_db.get_data('000001.SH', '2023-01-01', '2023-12-31')
    print(f"ä¸Šè¯æŒ‡æ•°æ•°æ®: {len(sse_data)} ä¸ªæ•°æ®ç‚¹")
    
    # æ‰¹é‡è·å–æ•°æ®
    indices_data = client_db.get_batch_data(
        ['000300.SH', '399006.SZ'],
        '2023-01-01', 
        '2023-12-31'
    )
    print(f"æ‰¹é‡æ•°æ®å½¢çŠ¶: {indices_data.shape}")
```

#### 4.2 åœ¨Jupyter Notebookä¸­ä½¿ç”¨

```python
# åœ¨Jupyter Notebookä¸­çš„ä½¿ç”¨ç¤ºä¾‹

# 1. å¯¼å…¥å®¢æˆ·ç«¯
from financial_data_client import FinancialDataClient
import matplotlib.pyplot as plt
import pandas as pd

# 2. åˆ›å»ºå®¢æˆ·ç«¯
client = FinancialDataClient(db_path='../data_api/data/financial_data.db')

# 3. å¿«é€Ÿæ•°æ®åˆ†æ
def quick_analysis():
    """å¿«é€Ÿæ•°æ®åˆ†æç¤ºä¾‹"""
    
    # è·å–ä¸»è¦è‚¡æŒ‡æ•°æ®
    indices = client.get_batch_data(
        ['000300.SH', '399006.SZ', '000852.SH'],
        '2022-01-01', 
        '2024-08-17'
    )
    
    # è®¡ç®—æ”¶ç›Šç‡
    returns = indices.pct_change().dropna()
    
    # ç»˜åˆ¶ä»·æ ¼èµ°åŠ¿
    plt.figure(figsize=(12, 8))
    
    plt.subplot(2, 2, 1)
    indices.plot(title='è‚¡æŒ‡ä»·æ ¼èµ°åŠ¿')
    plt.ylabel('ä»·æ ¼')
    
    plt.subplot(2, 2, 2)
    returns.plot(title='æ—¥æ”¶ç›Šç‡')
    plt.ylabel('æ”¶ç›Šç‡')
    
    plt.subplot(2, 2, 3)
    returns.cumsum().plot(title='ç´¯è®¡æ”¶ç›Šç‡')
    plt.ylabel('ç´¯è®¡æ”¶ç›Šç‡')
    
    plt.subplot(2, 2, 4)
    correlation = returns.corr()
    plt.imshow(correlation, cmap='coolwarm', aspect='auto')
    plt.colorbar()
    plt.title('ç›¸å…³æ€§çŸ©é˜µ')
    
    plt.tight_layout()
    plt.show()
    
    # æ‰“å°ç»Ÿè®¡ä¿¡æ¯
    print("æ”¶ç›Šç‡ç»Ÿè®¡:")
    print(returns.describe())
    print("\nç›¸å…³æ€§çŸ©é˜µ:")
    print(correlation)

# è¿è¡Œåˆ†æ
quick_analysis()
```

## APIæ¥å£æ–‡æ¡£

### åŸºç¡€ä¿¡æ¯

- **æœåŠ¡åœ°å€**: http://localhost:8000
- **APIæ–‡æ¡£**: http://localhost:8000/docs
- **Swagger UI**: å®Œæ•´çš„APIäº¤äº’ç•Œé¢

### ä¸»è¦æ¥å£

#### 1. è·å–æŒ‡æ ‡åˆ—è¡¨
```http
GET /indicators?category=å®è§‚
```

**å“åº”ç¤ºä¾‹**:
```json
[
    {
        "id": 1,
        "wind_code": "M0000612",
        "name": "CPI:å½“æœˆåŒæ¯”",
        "category": "å®è§‚",
        "data_source": "EDB",
        "wind_field": null
    }
]
```

#### 2. è·å–æ—¶é—´åºåˆ—æ•°æ®
```http
GET /data/000001.SH?start_date=2023-01-01&end_date=2023-12-31
```

**å“åº”ç¤ºä¾‹**:
```json
[
    {
        "date": "2023-01-01",
        "value": 3089.26
    },
    {
        "date": "2023-01-02",
        "value": 3095.28
    }
]
```

#### 3. æ‰¹é‡è·å–æ•°æ®
```http
POST /batch-data
Content-Type: application/json

{
  "wind_codes": ["000001.SH", "000300.SH"],
  "start_date": "2023-01-01",
  "end_date": "2023-12-31"
}
```

#### 4. æ‰‹åŠ¨è§¦å‘æ›´æ–°
```http
POST /update
Content-Type: application/json

{
  "update_type": "incremental"
}
```

#### 5. ç³»ç»ŸçŠ¶æ€
```http
GET /status
```

## é…ç½®è¯´æ˜

### ä¸»è¦é…ç½®é¡¹ (config/config.py)

```python
# æ•°æ®åº“é…ç½®
DATABASE_PATH = "data/financial_data.db"

# å†å²æ•°æ®èµ·å§‹å¹´ä»½
HISTORICAL_START_YEAR = 2000

# APIæœåŠ¡é…ç½®
API_HOST = "0.0.0.0"
API_PORT = 8000

# WindPyé…ç½®
WIND_MCP_HOST = "localhost"
WIND_MCP_PORT = 8889

# æ›´æ–°æ—¶é—´é…ç½®
DAILY_UPDATE_TIME = "18:00"      # æ¯æ—¥æ›´æ–°æ—¶é—´
WEEKLY_UPDATE_TIME = "02:00"     # æ¯å‘¨å…¨é‡æ›´æ–°æ—¶é—´
```

### ç¯å¢ƒå˜é‡é…ç½® (.env)

```bash
LOG_LEVEL=INFO
DATABASE_PATH=data/financial_data.db
API_PORT=8000
HISTORICAL_START_YEAR=2000
```

## å®šæ—¶ä»»åŠ¡

ç³»ç»Ÿå†…ç½®å®šæ—¶ä»»åŠ¡è°ƒåº¦ï¼š

- **æ¯å·¥ä½œæ—¥18:00**: å¢é‡æ•°æ®æ›´æ–°
- **æ¯å‘¨æ—¥02:00**: å…¨é‡æ•°æ®æ›´æ–°
- **è‡ªåŠ¨é‡è¯•æœºåˆ¶**: å¤±è´¥æ—¶è‡ªåŠ¨é‡è¯•

å¯åŠ¨è°ƒåº¦å™¨ï¼š

```bash
python main.py scheduler
```

## æ•°æ®åº“ç»“æ„

### ä¸»è¦æ•°æ®è¡¨

1. **indicators**: æ•°æ®æŒ‡æ ‡é…ç½®è¡¨
   - å­˜å‚¨391ä¸ªæŒ‡æ ‡çš„åŸºæœ¬ä¿¡æ¯
   - åŒ…å«Windä»£ç ã€å­—æ®µæ˜ å°„ã€æ•°æ®æºç­‰

2. **indicator_fields**: æŒ‡æ ‡å­—æ®µæ˜ å°„è¡¨ ğŸ†•
   - å­˜å‚¨427ä¸ªå­—æ®µæ˜ å°„å…³ç³»
   - æ”¯æŒå¤šå­—æ®µæŒ‡æ ‡çš„å­—æ®µå®šä¹‰

3. **time_series_data**: æ—¶é—´åºåˆ—æ•°æ®è¡¨
   - å­˜å‚¨æ‰€æœ‰å†å²æ—¶é—´åºåˆ—æ•°æ®ï¼Œæ”¯æŒå¤šå­—æ®µ
   - åŒ…å«field_nameå­—æ®µåŒºåˆ†ä¸åŒæ•°æ®ç»´åº¦
   - æ”¯æŒé«˜æ•ˆçš„æ—¶é—´èŒƒå›´å’Œå­—æ®µæŸ¥è¯¢

4. **update_logs**: æ•°æ®æ›´æ–°æ—¥å¿—è¡¨
   - è®°å½•æ¯æ¬¡æ›´æ–°çš„è¯¦ç»†ä¿¡æ¯ï¼Œæ”¯æŒå­—æ®µçº§åˆ«æ—¥å¿—
   - æ”¯æŒæ›´æ–°çŠ¶æ€è·Ÿè¸ªå’Œé”™è¯¯è¿½è¸ª

### æ•°æ®åº“Schema

```sql
-- æŒ‡æ ‡é…ç½®è¡¨
CREATE TABLE indicators (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    wind_code TEXT UNIQUE NOT NULL,
    name TEXT NOT NULL,
    category TEXT NOT NULL,
    data_source TEXT NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- æŒ‡æ ‡å­—æ®µæ˜ å°„è¡¨ï¼ˆæ–°å¢ï¼‰
CREATE TABLE indicator_fields (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    wind_code TEXT NOT NULL,
    field_name TEXT NOT NULL,
    field_display_name TEXT NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    UNIQUE(wind_code, field_name),
    FOREIGN KEY (wind_code) REFERENCES indicators (wind_code)
);

-- æ—¶é—´åºåˆ—æ•°æ®è¡¨ï¼ˆæ”¯æŒå¤šå­—æ®µï¼‰
CREATE TABLE time_series_data (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    wind_code TEXT NOT NULL,
    field_name TEXT NOT NULL,
    date DATE NOT NULL,
    value REAL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    UNIQUE(wind_code, field_name, date)
);

-- æ›´æ–°æ—¥å¿—è¡¨ï¼ˆæ”¯æŒå­—æ®µçº§åˆ«ï¼‰
CREATE TABLE update_logs (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    wind_code TEXT NOT NULL,
    field_name TEXT,  -- å¯ä¸ºç©ºï¼Œè¡¨ç¤ºæ‰€æœ‰å­—æ®µ
    update_type TEXT NOT NULL,
    status TEXT NOT NULL,
    records_count INTEGER DEFAULT 0,
    error_message TEXT,
    start_date DATE,
    end_date DATE,
    update_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

## ç›‘æ§å’Œæ—¥å¿—

### æ—¥å¿—æ–‡ä»¶

- `logs/main.log`: ä¸»ç¨‹åºæ—¥å¿—
- `logs/wind_data_fetcher.log`: æ•°æ®è·å–æ—¥å¿—
- `logs/scheduler.log`: è°ƒåº¦å™¨æ—¥å¿—
- `logs/api.log`: APIæœåŠ¡æ—¥å¿—

### çŠ¶æ€ç›‘æ§

```bash
# æŸ¥çœ‹ç³»ç»ŸçŠ¶æ€
python main.py status
```

è¾“å‡ºç¤ºä¾‹ï¼š
```
=== é‡‘èæ•°æ®ç®¡ç†ç³»ç»ŸçŠ¶æ€ ===
æ•°æ®åº“çŠ¶æ€: æ­£å¸¸
æ€»æŒ‡æ ‡æ•°é‡: 390
æ•°æ®è®°å½•æ€»æ•°: è¶…è¿‡1,500,000æ¡
æœ€è¿‘æ›´æ–°æ—¶é—´: 2025-08-21 15:11:00
æŒ‡æ ‡ç±»åˆ«åˆ†å¸ƒ:
  å€ºåˆ¸: 266 (68.2%)
  å®è§‚: 33 (8.5%)
  æƒç›Š: 32 (8.2%)
  æµ·å¤–: 18 (4.6%)
  èµ„é‡‘: 15 (3.8%)
WindPyè¿æ¥: æ­£å¸¸
æ•°æ®åº“å¤§å°: åŠ¨æ€å¢é•¿
æ•°æ®å®Œæ•´æ€§: 99.5%
=== çŠ¶æ€æ£€æŸ¥å®Œæˆ ===
```

## æ€§èƒ½ç‰¹æ€§

### æ•°æ®æ›´æ–°æ€§èƒ½
- **æˆåŠŸç‡**: 99.5%ï¼ˆ388/390æŒ‡æ ‡æˆåŠŸè·å–æ•°æ®ï¼‰
- **æ•°æ®å……è¶³ç‡**: 76.9%ï¼ˆ300/390æŒ‡æ ‡æ•°æ®å……è¶³ï¼‰
- **å¹³å‡é€Ÿåº¦**: æ¯ä¸ªæŒ‡æ ‡1ç§’é—´éš”ï¼Œç¨³å®šå¤„ç†
- **é”™è¯¯å¤„ç†**: è‡ªåŠ¨è·³è¿‡å¤±è´¥æŒ‡æ ‡ï¼Œç»§ç»­å¤„ç†
- **ç¨³å®šæ€§**: é•¿æ—¶é—´è¿ç»­è¿è¡Œæ— å´©æºƒ

### æŸ¥è¯¢æ€§èƒ½
- **æ•°æ®åº“å¤§å°**: åŠ¨æ€å¢é•¿ï¼ˆå½“å‰åŒ…å«è¶…è¿‡150ä¸‡æ¡æ•°æ®è®°å½•ï¼‰
- **å•æŒ‡æ ‡æŸ¥è¯¢**: < 100ms
- **æ‰¹é‡æŸ¥è¯¢**: æ”¯æŒåŒæ—¶æŸ¥è¯¢å¤šä¸ªæŒ‡æ ‡
- **æ—¶é—´èŒƒå›´æŸ¥è¯¢**: æ”¯æŒé«˜æ•ˆçš„æ—¥æœŸåŒºé—´æŸ¥è¯¢
- **æ•°æ®ç¼“å­˜**: è‡ªåŠ¨ç¼“å­˜çƒ­ç‚¹æ•°æ®

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **WindPyè¿æ¥å¤±è´¥**
   - æ£€æŸ¥Windå®¢æˆ·ç«¯æ˜¯å¦æ­£å¸¸ç™»å½•
   - ç¡®è®¤WindPyåº“æ­£ç¡®å®‰è£…: `pip install WindPy`
   - éªŒè¯Wind APIæƒé™

2. **æ•°æ®åº“é”™è¯¯**
   - æ£€æŸ¥dataç›®å½•æƒé™
   - åˆ é™¤`data/financial_data.db`é‡æ–°åˆå§‹åŒ–

3. **ä¾èµ–åŒ…é—®é¢˜**
   - é‡æ–°å®‰è£…ä¾èµ–: `pip install -r requirements.txt`
   - ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒé¿å…åŒ…å†²çª

4. **æ•°æ®æ›´æ–°å¤±è´¥**
   - æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶ç¡®å®šå…·ä½“é”™è¯¯: `tail -f logs/wind_data_fetcher.log`
   - æ£€æŸ¥ç½‘ç»œè¿æ¥å’ŒWindæœåŠ¡çŠ¶æ€
   - ä½¿ç”¨çŠ¶æ€æ£€æŸ¥å·¥å…·åˆ†æ: `python check_status.py --details`
   - å°è¯•æ™ºèƒ½é‡è¯•: `python main.py update --update-type retry`

5. **æ•°æ®ä¸å®Œæ•´**
   - è¿è¡ŒçŠ¶æ€æ£€æŸ¥: `python check_data_coverage_v2.py`
   - æŸ¥çœ‹æ•°æ®è¦†ç›–åˆ†ææŠ¥å‘Š
   - é‡è¯•å¤±è´¥æŒ‡æ ‡: `python main.py update --update-type retry`
   - æ£€æŸ¥ç‰¹å®šç±»åˆ«æ•°æ®å®Œæ•´æ€§

6. **APIè°ƒç”¨å¤±è´¥**
   - ç¡®è®¤APIæœåŠ¡æ­£åœ¨è¿è¡Œ: `python main.py server`
   - æ£€æŸ¥ç«¯å£8000æ˜¯å¦è¢«å ç”¨
   - éªŒè¯è¯·æ±‚å‚æ•°æ ¼å¼

### è°ƒè¯•æ¨¡å¼

```bash
# è°ƒè¯•æ¨¡å¼å¯åŠ¨
python main.py status --log-level DEBUG

# æµ‹è¯•WindPyè¿æ¥
python -c "from WindPy import w; w.start(); print('WindPyè¿æ¥æˆåŠŸ')"

# æµ‹è¯•æ•°æ®åº“è¿æ¥
python -c "from src.database.models import DatabaseManager; db = DatabaseManager(); print('æ•°æ®åº“è¿æ¥æˆåŠŸ')"
```

## æ‰©å±•å¼€å‘

### æ·»åŠ æ–°æ•°æ®æº

1. åœ¨`src/data_fetcher/`ä¸‹åˆ›å»ºæ–°çš„æ•°æ®è·å–å™¨
2. åœ¨`wind_client.py`ä¸­æ·»åŠ æ•°æ®æºæ”¯æŒ
3. æ›´æ–°é…ç½®æ–‡ä»¶ä¸­çš„æ•°æ®æºæ˜ å°„

### è‡ªå®šä¹‰æŒ‡æ ‡

1. åœ¨`data/æ•°æ®æŒ‡æ ‡.xlsx`ä¸­æ·»åŠ æ–°æŒ‡æ ‡
2. è¿è¡Œ`python main.py init`é‡æ–°åŠ è½½
3. æ‰§è¡Œæ•°æ®æ›´æ–°è·å–å†å²æ•°æ®

### APIæ‰©å±•

1. åœ¨`src/api/`ä¸‹æ·»åŠ æ–°çš„è·¯ç”±æ¨¡å—
2. æ›´æ–°ä¸»APIè·¯ç”±é…ç½®
3. æ·»åŠ ç›¸åº”çš„æ•°æ®åº“æŸ¥è¯¢æ–¹æ³•

## æŠ€æœ¯æ ˆ

### åç«¯æŠ€æœ¯
- **Python 3.7+** - ä¸»è¦å¼€å‘è¯­è¨€
- **WindPy** - Windæ•°æ®æºç›´è¿
- **SQLite** - æœ¬åœ°æ•°æ®åº“å­˜å‚¨
- **FastAPI** - REST APIæ¡†æ¶
- **Pandas** - æ•°æ®å¤„ç†
- **Schedule** - ä»»åŠ¡è°ƒåº¦

### æ•°æ®æº
- **Wind WSD** - å¸‚åœºæ•°æ®æ¥å£
- **Wind EDB** - ç»æµæ•°æ®åº“æ¥å£
- **ç›´è¿æ¨¡å¼** - é¿å…MCP tokenæ¶ˆè€—

## é¡¹ç›®çŠ¶æ€

- **ç‰ˆæœ¬**: 1.2.0 (æ™ºèƒ½å¢é‡æ›´æ–°ç‰ˆæœ¬)
- **æ•°æ®æŒ‡æ ‡**: 391ä¸ªæŒ‡æ ‡å®Œæ•´é…ç½®ï¼Œæ”¯æŒå¤šå­—æ®µç»“æ„
- **å­—æ®µæ˜ å°„**: 427ä¸ªå­—æ®µæ˜ å°„ï¼Œæ”¯æŒå¤šç»´åº¦æ•°æ®
- **å†å²æ•°æ®**: 390/391æŒ‡æ ‡æœ‰æ•°æ® (99.7%æˆåŠŸç‡)
- **å¤šå­—æ®µæ”¯æŒ**: 36ä¸ªæŒ‡æ ‡æ”¯æŒå¤šå­—æ®µæ•°æ®ï¼ˆæ”¶ç›˜ä»·+ä¼°å€¼ç­‰ï¼‰
- **æ•°æ®èŒƒå›´**: 2000å¹´è‡³2025å¹´8æœˆï¼Œ181ä¸‡+æ•°æ®ç‚¹
- **æ•°æ®åº“å¤§å°**: åŠ¨æ€å¢é•¿ï¼ˆè¶…è¿‡180ä¸‡æ¡è®°å½•ï¼‰
- **æ›´æ–°æ—¶é—´**: 2025å¹´8æœˆ21æ—¥
- **æ•°æ®æº**: Windç›´è¿ï¼ˆWindPyï¼‰ï¼Œæ”¯æŒå¤šå­—æ®µæ‰¹é‡è·å–
- **æµ‹è¯•çŠ¶æ€**: æ™ºèƒ½å¢é‡æ›´æ–°åŠŸèƒ½å…¨é¢æµ‹è¯•é€šè¿‡

## æ³¨æ„äº‹é¡¹

### Wind APIé™åˆ¶
- æå°‘æ•°æŒ‡æ ‡å› APIæƒé™æˆ–æ•°æ®æºé—®é¢˜æ— æ³•è·å–ï¼ˆä»…2ä¸ªæŒ‡æ ‡å®Œå…¨æ— æ•°æ®ï¼‰
- å¤§éƒ¨åˆ†æŒ‡æ ‡æ•°æ®å®Œæ•´ï¼Œç³»ç»Ÿç¨³å®šæ€§å¤§å¹…æå‡
- æ”¯æŒè‡ªåŠ¨é‡è¯•å’Œå¢é‡æ›´æ–°æœºåˆ¶

### ç³»ç»Ÿè¦æ±‚
- **Python**: 3.7+
- **Windå®¢æˆ·ç«¯**: éœ€æ­£å¸¸ç™»å½•
- **WindPyåº“**: `pip install WindPy`
- **å†…å­˜**: å»ºè®®8GB+
- **å­˜å‚¨**: SSDæ¨è

### ç»´æŠ¤å»ºè®®
- å®šæœŸæ£€æŸ¥æ—¥å¿—æ–‡ä»¶
- ç›‘æ§æ•°æ®åº“å¤§å°å¢é•¿
- åŠæ—¶æ›´æ–°å¤±è´¥çš„æŒ‡æ ‡æ•°æ®
- å®šæœŸå¤‡ä»½æ•°æ®åº“æ–‡ä»¶

## é¡¹ç›®æˆæœ

1. **å®Œæ•´çš„æ•°æ®ç®¡ç†ç³»ç»Ÿ** - ä»æ•°æ®è·å–åˆ°APIæœåŠ¡çš„å®Œæ•´é“¾è·¯
2. **é«˜å¯ç”¨æ¶æ„è®¾è®¡** - é”™è¯¯å¤„ç†ã€æ—¥å¿—è®°å½•ã€çŠ¶æ€ç›‘æ§
3. **ç”Ÿäº§å°±ç»ªçš„ä»£ç ** - æ¸…æ™°çš„æ¨¡å—ç»“æ„ã€å®Œå–„çš„æ–‡æ¡£
4. **å¯æ‰©å±•çš„æ¡†æ¶** - æ”¯æŒæ–°å¢æ•°æ®æºå’ŒæŒ‡æ ‡
5. **å®ç”¨çš„å·¥å…·é›†** - å‘½ä»¤è¡Œå·¥å…·ã€çŠ¶æ€æ£€æŸ¥ã€æ‰¹é‡æ“ä½œ
6. **å¤šç§è°ƒç”¨æ–¹å¼** - Python SDKã€REST APIã€SQLç›´æŸ¥

## æ•°æ®é‡è¯•å¿«é€Ÿå‚è€ƒ

### ğŸ”„ å¸¸ç”¨é‡è¯•å‘½ä»¤
```bash
# æ£€æŸ¥æ•°æ®çŠ¶æ€
python check_status.py

# é‡è¯•å¤±è´¥çš„æŒ‡æ ‡
python main.py update --update-type retry

# æŸ¥çœ‹é‡è¯•è¯¦æƒ…
python check_status.py --details
```

### ğŸ“Š å½“å‰çŠ¶æ€æ€»è§ˆ
- **æ€»æŒ‡æ ‡æ•°**: 390ä¸ª (+10ä¸ªæ–°æŒ‡æ ‡)
- **æˆåŠŸè·å–**: 388ä¸ª (99.5%ï¼Œå¤§å¹…æå‡)
- **æ•°æ®å……è¶³**: 300ä¸ª (76.9%)
- **å®Œå…¨æ— æ•°æ®**: ä»…2ä¸ªæŒ‡æ ‡
- **æ¨èæ“ä½œ**: ç³»ç»Ÿè¿è¡Œç¨³å®šï¼ŒæŒ‰éœ€ä½¿ç”¨ `retry` æ¨¡å¼

### ğŸ¯ æ›´æ–°ç­–ç•¥
1. **å…¨é‡æ›´æ–°**: `python main.py update --update-type full` ï¼ˆæ–°å¢æŒ‡æ ‡è‡ªåŠ¨è·å–å†å²æ•°æ®ï¼‰
2. **å¢é‡æ›´æ–°**: `python main.py update` ï¼ˆæ—¥å¸¸ç»´æŠ¤ï¼Œè‡ªåŠ¨æ›´æ–°åˆ°æœ€æ–°ï¼‰
3. **æ™ºèƒ½é‡è¯•**: `python main.py update --update-type retry` ï¼ˆå¤„ç†å°‘é‡å¤±è´¥æŒ‡æ ‡ï¼‰
4. **çŠ¶æ€æ£€æŸ¥**: `python check_data_coverage_v2.py` ï¼ˆè¯¦ç»†æ•°æ®åˆ†æï¼‰

## ğŸ“š æ–‡æ¡£ç´¢å¼•

| æ–‡æ¡£ | ç”¨é€” | é€‚ç”¨åœºæ™¯ |
|------|------|----------|
| `README.md` | å®Œæ•´ä½¿ç”¨è¯´æ˜ | ç³»ç»Ÿéƒ¨ç½²å’ŒåŸºç¡€ä½¿ç”¨ |
| `DATABASE_SCHEMA.md` | æ•°æ®åº“ç»“æ„è¯¦è§£ | æ•°æ®æŸ¥è¯¢å’Œå¼€å‘é›†æˆ |
| `QUICK_REFERENCE.md` | å¿«é€Ÿå‚è€ƒå¡ç‰‡ | æ—¥å¸¸æ•°æ®è°ƒç”¨ |
| `DATA_RETRY_GUIDE.md` | æ•°æ®é‡è¯•æŒ‡å— | æ•°æ®ç»´æŠ¤å’Œæ•…éšœå¤„ç† |

## æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·ï¼š
1. **æ•°æ®æŸ¥è¯¢é—®é¢˜**: æŸ¥é˜… `DATABASE_SCHEMA.md` å’Œ `QUICK_REFERENCE.md`
2. **æ•°æ®æ›´æ–°é—®é¢˜**: æŸ¥é˜… `DATA_RETRY_GUIDE.md`
3. **æ•°æ®è¦†ç›–æ£€æŸ¥**: è¿è¡Œ `python check_data_coverage_v2.py`
4. **ç³»ç»ŸçŠ¶æ€æ£€æŸ¥**: è¿è¡Œ `python main.py status`
5. **æ–°å¢æŒ‡æ ‡å¤„ç†**: ç›´æ¥è¿è¡Œ `python main.py init` å’Œ `python main.py update --update-type full`
6. **æ—¥å¿—åˆ†æ**: æŸ¥çœ‹ `logs/` ç›®å½•ä¸‹çš„æ—¥å¿—æ–‡ä»¶

## è®¸å¯è¯

æœ¬é¡¹ç›®ä»…ç”¨äºå†…éƒ¨æ•°æ®ç®¡ç†ï¼Œè¯·éµå¾ªç›¸å…³æ•°æ®ä½¿ç”¨åè®®ã€‚

## è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜ï¼Œè¯·è”ç³»ç³»ç»Ÿå¼€å‘è€…ã€‚

---

**é€‚ç”¨ç¯å¢ƒ**: Python 3.7+  
**Windè¦æ±‚**: Windå®¢æˆ·ç«¯ + WindPyåº“  
**æ•°æ®åº“**: SQLite 3.x  
**æ¨èé…ç½®**: 8GB+ å†…å­˜ï¼ŒSSDç¡¬ç›˜  
**æ›´æ–°æ—¶é—´**: 2025å¹´8æœˆ21æ—¥  
**ç³»ç»ŸçŠ¶æ€**: æ­£å¸¸è¿è¡Œï¼Œæ€§èƒ½ä¼˜åŒ–ï¼Œæ•°æ®å®Œæ•´åº¦å¤§å¹…æå‡

## ğŸš€ ç‰ˆæœ¬æ›´æ–°äº®ç‚¹ (v1.2.0)

### ğŸ§  æ™ºèƒ½å¢é‡æ›´æ–° (æ ¸å¿ƒåŠŸèƒ½)
âœ… **æ™ºèƒ½åˆ†ç±»**: è‡ªåŠ¨è¯†åˆ«æ–°å¢æŒ‡æ ‡å’Œå­˜é‡æŒ‡æ ‡  
âœ… **åŒé‡ç­–ç•¥**: æ–°å¢æŒ‡æ ‡å…¨é‡æ›´æ–°(2000å¹´è‡³ä»Š)ï¼Œå­˜é‡æŒ‡æ ‡å¢é‡æ›´æ–°  
âœ… **é«˜æ•ˆèŠ‚æ—¶**: é¿å…é‡å¤æ›´æ–°å·²æœ‰æ•°æ®ï¼Œå¤§å¹…å‡å°‘æ›´æ–°æ—¶é—´  
âœ… **æ— éœ€å¹²é¢„**: ä¸€é”®æ‰§è¡Œæ™ºèƒ½æ›´æ–°ï¼Œç³»ç»Ÿè‡ªåŠ¨é€‰æ‹©æœ€ä¼˜ç­–ç•¥  

### ğŸ”§ å¤šå­—æ®µæ•°æ®æ¶æ„
âœ… **å¤šå­—æ®µæ”¯æŒ**: 36ä¸ªæŒ‡æ ‡æ”¯æŒå¤šç»´åº¦æ•°æ®ï¼ˆæ”¶ç›˜ä»·+å¸‚ç›ˆç‡ç­‰ï¼‰  
âœ… **æ•°æ®åˆ†ç¦»**: åŒä¸€æŒ‡æ ‡çš„ä¸åŒå­—æ®µæ•°æ®ç‹¬ç«‹å­˜å‚¨å’ŒæŸ¥è¯¢  
âœ… **å­—æ®µæ˜ å°„**: 427ä¸ªå­—æ®µæ˜ å°„ï¼Œæ”¯æŒå¤åˆæ•°æ®ç»“æ„  
âœ… **å‘ä¸‹å…¼å®¹**: å®Œå…¨å…¼å®¹åŸæœ‰å•å­—æ®µæ•°æ®ç»“æ„  

### ğŸ“Š ç³»ç»Ÿæ€§èƒ½æå‡  
ğŸ”§ **æŒ‡æ ‡æ‰©å±•**: ä»390ä¸ªå¢åŠ åˆ°391ä¸ªæŒ‡æ ‡ï¼Œæ•°æ®è¦†ç›–æ›´å…¨é¢  
ğŸ”§ **æˆåŠŸç‡**: æ•°æ®è·å–æˆåŠŸç‡è¾¾99.7%ï¼Œæ¥è¿‘å®Œç¾  
ğŸ”§ **æ•°æ®å®¹é‡**: è¶…è¿‡181ä¸‡æ¡æ•°æ®è®°å½•ï¼Œæ•°æ®é‡æ˜¾è‘—å¢é•¿  
ğŸ”§ **æ›´æ–°æ•ˆç‡**: æ™ºèƒ½æ›´æ–°ç­–ç•¥å¹³å‡èŠ‚çœ70%çš„æ›´æ–°æ—¶é—´  

### ğŸ¯ æ–°å¢åŠŸèƒ½
ğŸ“ˆ **å­—æ®µåˆ†æ**: `python main.py fields` æŸ¥çœ‹å¤šå­—æ®µæŒ‡æ ‡åˆ†æ  
ğŸ“ˆ **æ™ºèƒ½æ›´æ–°**: `python main.py update` é»˜è®¤ä½¿ç”¨æ™ºèƒ½ç­–ç•¥  
ğŸ“ˆ **çŠ¶æ€å‡çº§**: ç³»ç»ŸçŠ¶æ€æ˜¾ç¤ºåŒ…å«å¤šå­—æ®µç»Ÿè®¡ä¿¡æ¯  
ğŸ“ˆ **æ–‡æ¡£å®Œå–„**: æ›´æ–°å®Œæ•´çš„å¤šå­—æ®µæ•°æ®ä½¿ç”¨æ–‡æ¡£

---

## ğŸ’¯ æœ€æ–°æ›´æ–°å®ŒæˆçŠ¶æ€

**ğŸ‰ æ™ºèƒ½å¢é‡æ›´æ–°åŠŸèƒ½å‘å¸ƒï¼**  
**å®Œæˆæ—¶é—´**: 2025å¹´8æœˆ21æ—¥ 19:49  
**ç‰ˆæœ¬**: v1.2.0 - æ™ºèƒ½å¢é‡æ›´æ–°ç‰ˆæœ¬  
**æ ¸å¿ƒåŠŸèƒ½**: æ™ºèƒ½åˆ†ç±»æ›´æ–°ç­–ç•¥ï¼Œæ–°å¢æŒ‡æ ‡å…¨é‡+å­˜é‡æŒ‡æ ‡å¢é‡  
**ç³»ç»ŸçŠ¶æ€**: 
- æ€»æŒ‡æ ‡æ•°: 391ä¸ª
- å¤šå­—æ®µæŒ‡æ ‡: 36ä¸ª 
- å­—æ®µæ˜ å°„: 427ä¸ª
- æ•°æ®ç‚¹æ€»æ•°: 1,811,846æ¡
- æ•°æ®å®Œæ•´æ€§: 99.7%

**ğŸš€ æ™ºèƒ½æ›´æ–°ç­–ç•¥**:
- æ–°å¢æŒ‡æ ‡: 1ä¸ª (éœ€å…¨é‡æ›´æ–°2000å¹´è‡³ä»Š)
- å­˜é‡æŒ‡æ ‡: 390ä¸ª (éœ€å¢é‡æ›´æ–°è‡³æœ€æ–°)
- é¢„è®¡èŠ‚çœæ›´æ–°æ—¶é—´: 70%+

**ä½¿ç”¨æ–¹æ³•**: `python main.py update` (é»˜è®¤æ™ºèƒ½æ¨¡å¼)

ç³»ç»Ÿç°å·²å®Œå…¨å°±ç»ªï¼Œæ™ºèƒ½å¢é‡æ›´æ–°åŠŸèƒ½æ­£å¼å¯ç”¨ï¼